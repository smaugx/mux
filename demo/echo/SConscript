#!/usr/bin/env python
#-*- coding:utf-8 -*-

import os
import sys

Import('env')
env =  env.Clone()

epoll_server = ['server_main.cc', '../../transport/tcp_transport.cc', '../../epoll/epoll_tcp_client.cc', '../../epoll/epoll_tcp_server.cc']
epoll_client = ['client_main.cc', '../../transport/tcp_transport.cc', '../../epoll/epoll_tcp_client.cc', '../../epoll/epoll_tcp_server.cc']

env.Program(target = 'echo_server',
        source  = epoll_server,
        CPPPATH = env['headers'],
        LIBPATH = env['libs'],
        LIBS    = ['pthread'],
        CCFLAGS = '-ggdb -std=c++11'
        )


env.Program(target = 'client',
        source  = epoll_client,
        CPPPATH = env['headers'],
        LIBPATH = env['libs'],
        LIBS    = ['pthread'],
        CCFLAGS = '-ggdb -std=c++11'
        )
